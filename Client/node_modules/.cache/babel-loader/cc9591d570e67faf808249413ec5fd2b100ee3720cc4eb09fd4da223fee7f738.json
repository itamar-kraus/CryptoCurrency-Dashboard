{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ndvp3\\\\OneDrive - ort braude college of engineering\\\\\\u05E9\\u05D5\\u05DC\\u05D7\\u05DF \\u05D4\\u05E2\\u05D1\\u05D5\\u05D3\\u05D4\\\\\\u05E1\\u05DE\\u05E1\\u05D8\\u05E8 6\\\\WEB\\\\Project_react\\\\CryptoCurrency-Dashboard\\\\src\\\\Home\\\\SelectCrypto\\\\SelectCrypto.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { makeApiRequest } from \"../utils\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const SelectCrypto = ({\n  setSelectedCoin\n}) => {\n  _s();\n  const [cryptoCoins, setCryptoCoins] = useState([]);\n  useEffect(() => {\n    const getTopCoinsByUSDValue = async () => {\n      try {\n        // Fetching the market data for coins sorted by market cap (a proxy to get popular/high-value coins)\n        const marketData = await makeApiRequest(\"coins/markets?vs_currency=usd&order=market_cap_desc&per_page=250&page=1\");\n        // Sorting the fetched coins by their current price in USD in descending order\n        const sortedByValue = marketData.sort((a, b) => b.current_price - a.current_price);\n        // Slicing the array to get the top 10 coins\n        const topCoins = sortedByValue.slice(0, 10);\n        setCryptoCoins(topCoins);\n        setSelectedCoin(topCoins[0]);\n      } catch (error) {\n        console.error(\"Error in getTopCoinsByUSDValue:\", error);\n        throw error;\n      }\n    };\n    getTopCoinsByUSDValue();\n  }, [setCryptoCoins, setSelectedCoin]);\n  const handleChangeSelect = event => {\n    const id = event.target.value;\n    const selectedCoin = cryptoCoins.find(coin => coin.symbol === id);\n    setSelectedCoin(selectedCoin);\n  };\n  return /*#__PURE__*/_jsxDEV(\"select\", {\n    id: \"coinsellector\",\n    className: \"dark:bg-gray-700 w-200\",\n    onChange: handleChangeSelect,\n    children: cryptoCoins.map(cryptoCoin => /*#__PURE__*/_jsxDEV(\"option\", {\n      id: cryptoCoin.id,\n      value: cryptoCoin.sybmol,\n      children: cryptoCoin.symbol\n    }, cryptoCoin.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n_s(SelectCrypto, \"phtQNgHRdyfjHbFy2Bdp8SX+ON0=\");\n_c = SelectCrypto;\nvar _c;\n$RefreshReg$(_c, \"SelectCrypto\");","map":{"version":3,"names":["useEffect","useState","makeApiRequest","jsxDEV","_jsxDEV","SelectCrypto","setSelectedCoin","_s","cryptoCoins","setCryptoCoins","getTopCoinsByUSDValue","marketData","sortedByValue","sort","a","b","current_price","topCoins","slice","error","console","handleChangeSelect","event","id","target","value","selectedCoin","find","coin","symbol","className","onChange","children","map","cryptoCoin","sybmol","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/ndvp3/OneDrive - ort braude college of engineering/שולחן העבודה/סמסטר 6/WEB/Project_react/CryptoCurrency-Dashboard/src/Home/SelectCrypto/SelectCrypto.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { makeApiRequest } from \"../utils\";\r\n\r\nexport const SelectCrypto = ({ setSelectedCoin }) => {\r\n  const [cryptoCoins, setCryptoCoins] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const getTopCoinsByUSDValue = async () => {\r\n      try {\r\n        // Fetching the market data for coins sorted by market cap (a proxy to get popular/high-value coins)\r\n        const marketData = await makeApiRequest(\r\n          \"coins/markets?vs_currency=usd&order=market_cap_desc&per_page=250&page=1\"\r\n        );\r\n        // Sorting the fetched coins by their current price in USD in descending order\r\n        const sortedByValue = marketData.sort(\r\n          (a, b) => b.current_price - a.current_price\r\n        );\r\n        // Slicing the array to get the top 10 coins\r\n        const topCoins = sortedByValue.slice(0, 10);\r\n\r\n        setCryptoCoins(topCoins);\r\n        setSelectedCoin(topCoins[0]);\r\n      } catch (error) {\r\n        console.error(\"Error in getTopCoinsByUSDValue:\", error);\r\n        throw error;\r\n      }\r\n    };\r\n\r\n    getTopCoinsByUSDValue();\r\n  }, [setCryptoCoins, setSelectedCoin]);\r\n\r\n  const handleChangeSelect = (event) => {\r\n    const id = event.target.value;\r\n    const selectedCoin = cryptoCoins.find((coin) => coin.symbol === id);\r\n    setSelectedCoin(selectedCoin);\r\n  };\r\n\r\n  return (\r\n    <select\r\n      id=\"coinsellector\"\r\n      className=\"dark:bg-gray-700 w-200\"\r\n      onChange={handleChangeSelect}\r\n    >\r\n      {cryptoCoins.map((cryptoCoin) => (\r\n        <option\r\n          key={cryptoCoin.id}\r\n          id={cryptoCoin.id}\r\n          value={cryptoCoin.sybmol}\r\n        >\r\n          {cryptoCoin.symbol}\r\n        </option>\r\n      ))}\r\n    </select>\r\n  );\r\n};\r\n"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,cAAc,QAAQ,UAAU;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1C,OAAO,MAAMC,YAAY,GAAGA,CAAC;EAAEC;AAAgB,CAAC,KAAK;EAAAC,EAAA;EACnD,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EAElDD,SAAS,CAAC,MAAM;IACd,MAAMU,qBAAqB,GAAG,MAAAA,CAAA,KAAY;MACxC,IAAI;QACF;QACA,MAAMC,UAAU,GAAG,MAAMT,cAAc,CACrC,yEACF,CAAC;QACD;QACA,MAAMU,aAAa,GAAGD,UAAU,CAACE,IAAI,CACnC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAACC,aAAa,GAAGF,CAAC,CAACE,aAChC,CAAC;QACD;QACA,MAAMC,QAAQ,GAAGL,aAAa,CAACM,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC;QAE3CT,cAAc,CAACQ,QAAQ,CAAC;QACxBX,eAAe,CAACW,QAAQ,CAAC,CAAC,CAAC,CAAC;MAC9B,CAAC,CAAC,OAAOE,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;QACvD,MAAMA,KAAK;MACb;IACF,CAAC;IAEDT,qBAAqB,CAAC,CAAC;EACzB,CAAC,EAAE,CAACD,cAAc,EAAEH,eAAe,CAAC,CAAC;EAErC,MAAMe,kBAAkB,GAAIC,KAAK,IAAK;IACpC,MAAMC,EAAE,GAAGD,KAAK,CAACE,MAAM,CAACC,KAAK;IAC7B,MAAMC,YAAY,GAAGlB,WAAW,CAACmB,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAACC,MAAM,KAAKN,EAAE,CAAC;IACnEjB,eAAe,CAACoB,YAAY,CAAC;EAC/B,CAAC;EAED,oBACEtB,OAAA;IACEmB,EAAE,EAAC,eAAe;IAClBO,SAAS,EAAC,wBAAwB;IAClCC,QAAQ,EAAEV,kBAAmB;IAAAW,QAAA,EAE5BxB,WAAW,CAACyB,GAAG,CAAEC,UAAU,iBAC1B9B,OAAA;MAEEmB,EAAE,EAAEW,UAAU,CAACX,EAAG;MAClBE,KAAK,EAAES,UAAU,CAACC,MAAO;MAAAH,QAAA,EAExBE,UAAU,CAACL;IAAM,GAJbK,UAAU,CAACX,EAAE;MAAAa,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAKZ,CACT;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACI,CAAC;AAEb,CAAC;AAAChC,EAAA,CAnDWF,YAAY;AAAAmC,EAAA,GAAZnC,YAAY;AAAA,IAAAmC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}